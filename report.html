<!-- used github copilot to handle project cards and a "report" page opening when clicked inside; I modified the styling and padding-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Project Report</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .report-header{padding:1rem 0 0.25rem 0;display:flex;justify-content:flex-start;align-items:baseline;gap:1rem}
    .report-title{margin:0;font-size:1.4rem;font-weight:700}
    #report{min-height:60vh;padding:0;margin-top:1rem;outline:none;background:transparent;border:none}
    #report img{max-width:100%;height:auto;display:block;margin:0.5rem 0}
    .muted{color:var(--muted)}
    /* styling for Notion imported pages, modified to maintain Notion styling rather than website styling*/
    #report { padding-top: 0 !important; margin-top: 0 !important; }
    #report > header,
    #report > article.page,
    #report header,
    #report .page-body { margin-top: 0 !important; padding-top: 0 !important; }
    #report .page-cover-image { display:block; margin:0; width:100%; object-fit:cover; max-height:40vh; }
    #report .page-title { margin-top: 2rem !important; margin-bottom:0.75em !important; }
    #report .page-header-icon-with-cover { margin-top: 0 !important; }
    /* removed excess paddings */
    .container { padding-top: 0 !important; }
    main.container { padding-top: 0 !important; }
  </style>
</head>
<body>
  <main class="container">
    <div class="report-header">
      <h1 id="proj-title" class="report-title">Project Report</h1>
    </div>

    <section>
      <div id="report" class="report-content" aria-label="Project report">
        <!-- reports from reports folder will be loaded here -->
      </div>
    </section>
  </main>

  <!--handle retrieving the correct report and safeguarding during the process of adding new projects to the page-->
  <script>
    function getQuery(){ return new URLSearchParams(location.search); }
    const params = getQuery();
    const title = params.get('title') || '';
    const slug = params.get('project') || '';
    document.getElementById('proj-title').textContent = title || 'Project Report';
    if (title) document.title = title + ' â€” Report';

    const reportEl = document.getElementById('report');
    if (!slug) {
      reportEl.innerHTML = '<p class="muted">No project specified. Open this page via a project card from the homepage.</p>';
    } else {
      const path = `reports/${slug}.html`;
      fetch(path).then(resp => {
        if (!resp.ok) throw new Error('not found');
        return resp.text();
      }).then(html => {
        reportEl.innerHTML = html;
      }).catch(() => {
        reportEl.innerHTML = `<p class="muted">No report found for "${slug}". Create <strong>reports/${slug}.html</strong> and paste your final HTML (text & images) there.</p>`;
      });
    }
  </script>
  <script> (function(){ const header = document.querySelector('.report-header'); const reportEl = document.getElementById('report'); if (!header || !reportEl) return; const check = () => { const hasNotionTitle = !!reportEl.querySelector('.page-title, header > h1, article header h1, h1.page-title'); header.style.display = hasNotionTitle ? 'none' : ''; }; check(); new MutationObserver(check).observe(reportEl, { childList: true, subtree: true }); })(); </script>
</body>
</html>
